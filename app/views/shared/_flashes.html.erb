<% messages_seen = [] %>
<% flash.each do |type, message| %>
  <% next if message.blank? || messages_seen.include?(message) %>
  <% messages_seen << message %>

  <% bs = { notice: "info", alert: "warning", error: "danger", success: "success" }[type.to_sym] || "info" %>
  <div class="toast show"
       role="<%= bs == 'danger' ? 'alert' : 'status' %>"
       aria-live="<%= bs == 'danger' ? 'assertive' : 'polite' %>"
       data-controller="flash"
       data-flash-timeout-value="5000"
       data-action="turbo:before-cache->flash#close">
    <button type="button" class="toast-close" aria-label="Fechar" data-action="click->flash#close">Ã—</button>
    <%= message %>
  </div>
<% end %>
